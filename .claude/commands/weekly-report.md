# Weekly Report Command

주간 보고서를 생성합니다. 파라미터에 따라 팀 전체 또는 개인 보고서를 작성합니다.

## 파라미터

- `$ARGUMENTS`: 보고서 유형 지정
  - `team` 또는 `전체`: 팀 전체 주간 업무 보고서 생성
  - 비어있거나 `me` 또는 `개인`: 개인 주간 업무 보고서 생성

## 실행 전 확인 사항

1. **보고 기간 확인**: 사용자에게 보고 기간(시작일~종료일)을 확인받기
2. **특이사항 확인**: 런칭 일정 변경, 주요 마일스톤 등 컨텍스트 파악

---

## 팀 전체 보고서 (`team` 모드)

### 1단계: 팀원 목록 파악

mcp-atlassian의 `jira_search`로 최근 활동한 팀원 파악:
```
JQL: updated >= "[시작일]" ORDER BY assignee
```

### 2단계: 병렬 데이터 수집 (Task 도구 활용 필수)

**중요**: 팀원별로 Task 도구를 병렬로 실행하여 데이터 수집 시간 단축

각 팀원에 대해 **Task 도구로 병렬 실행**:
```
Task (subagent_type: "general-purpose") x 팀원 수
- prompt: "[팀원명]의 Jira 이슈 상세 분석"
```

각 Task에서 수행할 작업:
1. **assignee 기준 조회**: `assignee = "[팀원]" AND updated >= "[시작일]"`
2. **reporter 기준 조회**: `reporter = "[팀원]" AND updated >= "[시작일]"`
3. **모든 Jira 스페이스 조회**: PS, BKEND 등 전체 프로젝트
4. **각 이슈 상세 조회**: `jira_get_issue`로 description, comments, reporter 모두 확인
5. **작업 분류**: 완료(Done), 진행중(In Progress), 예정(To Do)

### 3단계: 팀원별 분석 내용 (각 Task에서 반환해야 할 정보)

각 팀원에 대해 다음 정보 수집:
- **역할/포지션**: 이슈 유형과 내용으로 파악
- **집중 영역**: 주요 작업 분야 요약
- **주요 성과**: 완료된 이슈와 구체적 내용 (이슈 description, comments 기반)
- **진행 중인 작업**: 현재 상태와 진척도
- **칭찬 포인트**: 잘한 점, 기여도 높은 부분 (구체적으로)
- **다음 주 예상 작업**: To Do 이슈 및 진행 예정 항목

### 4단계: 팀 주간 업무 보고서 작성

```markdown
# 팀 주간 업무 보고서
**기간**: [시작일] ~ [종료일]
**작성일**: [오늘 날짜]

---

## 팀원별 업무 현황

### [팀원명] ([역할])

#### 집중 영역
- [주요 작업 분야]

#### 주요 성과
1. **[이슈 제목]** ([이슈키]) [상태]
   - [구체적인 작업 내용 - description/comments 기반]
2. ...

#### 칭찬 포인트
- [구체적인 칭찬 내용]

---
(팀원별 반복)

---

## 이번 주 전체 주요 진행 사항

### [분야 1] (예: Backend/Infrastructure)
- [주요 진행 내용]

### [분야 2] (예: Frontend/UX)
- [주요 진행 내용]

### [분야 3] (예: QA/Testing)
- [주요 진행 내용]

---

## 잘한 점
1. [팀 전체적으로 잘한 점]
2. [개선된 부분]
3. ...

## 아쉬운 점
1. [개선이 필요한 부분]
2. [지연된 사항]
3. ...

## 이번 주 예상 작업

### [분야별 예상 작업]
- [팀원명]: [예상 작업 내용]
- ...

## 논의 필요 사항
- [팀 미팅에서 논의할 주제]
- [의사결정 필요 사항]
```

### 5단계: Confluence 저장

1. Confluence에서 주간 보고서 저장 위치 확인 (예: `YYMMDD` 폴더)
2. `confluence_search`로 부모 페이지 ID 조회
3. `confluence_create_page`로 페이지 생성
4. 생성된 페이지 URL 사용자에게 안내

---

## 개인 보고서 (기본 모드)

### 1단계: 개인 이슈 조회

mcp-atlassian으로 본인 이슈 조회:
```
JQL: assignee = currentUser() AND updated >= "[시작일]"
JQL: reporter = currentUser() AND updated >= "[시작일]"
```

### 2단계: 개인 주간 업무 보고서 작성

```markdown
# 주간 업무 보고서
**기간**: [시작일] ~ [종료일]
**작성자**: [사용자 이름]

## 이번 주 완료 사항
- **[이슈키]** [이슈 제목]
  - [주요 작업 내용 요약]

## 진행 중인 작업
- **[이슈키]** [이슈 제목] (진행률: %)
  - 현재 상황
  - 예상 완료일

## 다음 주 계획
- **[이슈키]** [이슈 제목]
  - 예상 작업 내용

## 주요 성과
- [중요한 성과나 학습 내용]

## 이슈 및 블로커
- [문제가 있다면 기술]
- [도움이 필요한 부분]

## 소감 및 개선 사항
- [이번 주 업무에 대한 소감]
```

### 3단계: Confluence 저장 (선택)

사용자에게 저장 여부 확인 후 진행

---

## 주의사항

### 데이터 수집 시 필수 확인 사항
1. **모든 Jira 스페이스 조회**: PS, BKEND 등 프로젝트별로 누락 없이
2. **이슈 상세 확인 필수**: 제목만이 아닌 description, comments, reporter 모두 확인
3. **assignee + reporter 모두 조회**: 담당자뿐 아니라 보고자로 등록된 이슈도 파악
4. **하위 이슈 확인**: Epic, Story의 하위 Task/Subtask까지 확인

### 병렬 처리 가이드라인
1. **Task 도구 적극 활용**: 팀원별 분석을 병렬로 실행
2. **독립적인 작업 병렬화**: 팀원 간 데이터 수집은 의존성 없음
3. **결과 통합**: 모든 Task 완료 후 보고서 통합 작성

### 보고서 작성 원칙
1. **개요 중심**: 상세 나열이 아닌 핵심 요약
2. **칭찬 포함**: 각 팀원의 기여도와 잘한 점 명시
3. **구체적 내용**: 이슈 description/comments 기반의 실제 작업 내용
4. **미팅용 포맷**: 팀 미팅에서 공유하기 적합한 형태
