name: Slack Daily Riddle Reminder

on:
  schedule:
    # ë§¤ì¼ 19:00 KST = 10:00 UTC
    - cron: '0 10 * * *'
  workflow_dispatch: # ìˆ˜ë™ ì‹¤í–‰ ê°€ëŠ¥

jobs:
  post-reminder:
    runs-on: ubuntu-latest
    steps:
      - name: Post to Slack
        env:
          SLACK_BOT_TOKEN: ${{ secrets.SLACK_BOT_TOKEN }}
        run: |
          DATE=$(TZ=Asia/Seoul date '+%Yë…„ %mì›” %dì¼ %Hì‹œ')

          MESSAGE="${DATE} ì…ë‹ˆë‹¤.
          ì˜¤ëŠ˜ë„ ë¦¬ë“¤ì— ê¸€ í•œ ì¤„ ë‚¨ê²¨ë³´ì„¸ìš”! ê¿€íŒì´ë©´ ë” ì¢‹ì•„ìš”!
          'ë¬´ì—‡ì´ë“  ë¬¼ì–´ë³´ì„¸ìš”' í° ê·¸ë¦¼ì— ë§¤ìš° ë„ì›€ì´ ë©ë‹ˆë‹¤ ğŸ’¯ <!channel>
          ğŸ‘‰ https://bkamp.ai/ko/community"

          curl -X POST https://slack.com/api/chat.postMessage \
            -H "Authorization: Bearer $SLACK_BOT_TOKEN" \
            -H "Content-Type: application/json" \
            -d "{
              \"channel\": \"C09ESU5CE0M\",
              \"text\": \"$MESSAGE\",
              \"link_names\": true
            }"
